"use strict";(self.webpackChunksmooth_scrollbar_gatsby=self.webpackChunksmooth_scrollbar_gatsby||[]).push([[373],{9373:function(t,e,o){o.r(e),o.d(e,{OverscrollEffect:function(){return i},default:function(){return _}});var i,r=o(3156),s=o(4909),n=o(8078),l=o(2617),a=o(4740),c=function(){function t(t){this._scrollbar=t}return t.prototype.render=function(t){var e=t.x,o=void 0===e?0:e,i=t.y,r=void 0===i?0:i,s=this._scrollbar,n=s.size,l=s.track,c=s.offset,h=s.contentEl;if((0,a.A)(h,{"-transform":"translate3d("+-(c.x+o)+"px, "+-(c.y+r)+"px, 0)"}),o){l.xAxis.show();var u=n.container.width/(n.container.width+Math.abs(o));(0,a.A)(l.xAxis.thumb.element,{"-transform":"translate3d("+l.xAxis.thumb.offset+"px, 0, 0) scale3d("+u+", 1, 1)","-transform-origin":o<0?"left":"right"})}if(r){l.yAxis.show();u=n.container.height/(n.container.height+Math.abs(r));(0,a.A)(l.yAxis.thumb.element,{"-transform":"translate3d(0, "+l.yAxis.thumb.offset+"px, 0) scale3d(1, "+u+", 1)","-transform-origin":r<0?"top":"bottom"})}l.autoHideOnIdle()},t}(),h=function(){function t(t){this._scrollbar=t,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),(0,a.A)(this._canvas,{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"})}return t.prototype.mount=function(){this._scrollbar.containerEl.appendChild(this._canvas)},t.prototype.unmount=function(){this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},t.prototype.adjust=function(){var t=this._scrollbar.size,e=window.devicePixelRatio||1,o=t.container.width*e,i=t.container.height*e;o===this._canvas.width&&i===this._canvas.height||(this._canvas.width=o,this._canvas.height=i,this._ctx.scale(e,e))},t.prototype.recordTouch=function(t){var e=t.touches[t.touches.length-1];this._touchX=e.clientX,this._touchY=e.clientY},t.prototype.render=function(t,e){var o=t.x,i=void 0===o?0:o,r=t.y,s=void 0===r?0:r;if(i||s){(0,a.A)(this._canvas,{display:"block"});var n=this._scrollbar.size;this._ctx.clearRect(0,0,n.container.width,n.container.height),this._ctx.fillStyle=e,this._renderX(i),this._renderY(s)}else(0,a.A)(this._canvas,{display:"none"})},t.prototype._getMaxOverscroll=function(){var t=this._scrollbar.options.plugins.overscroll;return t&&t.maxOverscroll?t.maxOverscroll:150},t.prototype._renderX=function(t){var e=this._scrollbar.size,o=this._getMaxOverscroll(),i=e.container,r=i.width,n=i.height,l=this._ctx;l.save(),t>0&&l.transform(-1,0,0,1,r,0);var a=(0,s.Z)(Math.abs(t)/o,0,.75),c=(0,s.Z)(a,0,.25)*r,h=Math.abs(t),u=this._touchY||n/2;l.globalAlpha=a,l.beginPath(),l.moveTo(0,-c),l.quadraticCurveTo(h,u,0,n+c),l.fill(),l.closePath(),l.restore()},t.prototype._renderY=function(t){var e=this._scrollbar.size,o=this._getMaxOverscroll(),i=e.container,r=i.width,n=i.height,l=this._ctx;l.save(),t>0&&l.transform(1,0,0,-1,0,n);var a=(0,s.Z)(Math.abs(t)/o,0,.75),c=(0,s.Z)(a,0,.25)*r,h=this._touchX||r/2,u=Math.abs(t);l.globalAlpha=a,l.beginPath(),l.moveTo(-c,0),l.quadraticCurveTo(h,u,r+c,0),l.fill(),l.closePath(),l.restore()},t}();!function(t){t.BOUNCE="bounce",t.GLOW="glow"}(i||(i={}));var u=/wheel|touch/,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._glow=new h(e.scrollbar),e._bounce=new c(e.scrollbar),e._wheelScrollBack={x:!1,y:!1},e._lockWheel={x:!1,y:!1},e._touching=!1,e._amplitude={x:0,y:0},e._position={x:0,y:0},e._releaseWheel=(0,n.Z)((function(){e._lockWheel.x=!1,e._lockWheel.y=!1}),30),e}return(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"_isWheelLocked",{get:function(){return this._lockWheel.x||this._lockWheel.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_enabled",{get:function(){return!!this.options.effect},enumerable:!0,configurable:!0}),e.prototype.onInit=function(){var t=this,e=t._glow,o=t.options,r=t.scrollbar,s=o.effect;Object.defineProperty(o,"effect",{get:function(){return s},set:function(t){if(t){if(t!==i.BOUNCE&&t!==i.GLOW)throw new TypeError("unknow overscroll effect: "+t);s=t,r.options.continuousScrolling=!1,t===i.GLOW?(e.mount(),e.adjust()):e.unmount()}else s=void 0}}),o.effect=s},e.prototype.onUpdate=function(){this.options.effect===i.GLOW&&this._glow.adjust()},e.prototype.onRender=function(t){if(this._enabled){this.scrollbar.options.continuousScrolling&&(this.scrollbar.options.continuousScrolling=!1);var e=t.x,o=t.y;!this._amplitude.x&&this._willOverscroll("x",t.x)&&(e=0,this._absorbMomentum("x",t.x)),!this._amplitude.y&&this._willOverscroll("y",t.y)&&(o=0,this._absorbMomentum("y",t.y)),this.scrollbar.setMomentum(e,o),this._render()}},e.prototype.transformDelta=function(t,e){if(this._lastEventType=e.type,!this._enabled||!u.test(e.type))return t;this._isWheelLocked&&/wheel/.test(e.type)&&(this._releaseWheel(),this._willOverscroll("x",t.x)&&(t.x=0),this._willOverscroll("y",t.y)&&(t.y=0));var o=t.x,i=t.y;switch(this._willOverscroll("x",t.x)&&(o=0,this._addAmplitude("x",t.x)),this._willOverscroll("y",t.y)&&(i=0,this._addAmplitude("y",t.y)),e.type){case"touchstart":case"touchmove":this._touching=!0,this._glow.recordTouch(e);break;case"touchcancel":case"touchend":this._touching=!1}return{x:o,y:i}},e.prototype._willOverscroll=function(t,e){if(!e)return!1;if(this._position[t])return!0;var o=this.scrollbar.offset[t],i=this.scrollbar.limit[t];return 0!==i&&((0,s.Z)(o+e,0,i)===o&&(0===o||o===i))},e.prototype._absorbMomentum=function(t,e){var o=this,i=o.options,r=o._lastEventType,n=o._amplitude;u.test(r)&&(n[t]=(0,s.Z)(e,-i.maxOverscroll,i.maxOverscroll))},e.prototype._addAmplitude=function(t,e){var o=this,i=o.options,r=o.scrollbar,n=o._amplitude,l=o._position,a=n[t],c=e*a<0,h=a+e*(1-(c?0:this._wheelScrollBack[t]?1:Math.abs(a/i.maxOverscroll)));n[t]=0===r.offset[t]?(0,s.Z)(h,-i.maxOverscroll,0):(0,s.Z)(h,0,i.maxOverscroll),c&&(l[t]=n[t])},e.prototype._render=function(){var t=this,e=t.options,o=t._amplitude,s=t._position;if(this._enabled&&(o.x||o.y||s.x||s.y)){var n=this._nextAmp("x"),l=this._nextAmp("y");switch(o.x=n.amplitude,s.x=n.position,o.y=l.amplitude,s.y=l.position,e.effect){case i.BOUNCE:this._bounce.render(s);break;case i.GLOW:this._glow.render(s,this.options.glowColor)}"function"==typeof e.onScroll&&e.onScroll.call(this,(0,r.pi)({},s))}},e.prototype._nextAmp=function(t){var e=this,o=e.options,i=e._amplitude,r=e._position,s=1-o.damping,n=i[t],l=r[t],a=this._touching?n:n*s|0,c=a-l,h=l+c-(c*s|0);return!this._touching&&Math.abs(h)<Math.abs(l)&&(this._wheelScrollBack[t]=!0),this._wheelScrollBack[t]&&Math.abs(h)<=1&&(this._wheelScrollBack[t]=!1,this._lockWheel[t]=!0),{amplitude:a,position:h}},e.pluginName="overscroll",e.defaultOptions={effect:i.BOUNCE,onScroll:void 0,damping:.2,maxOverscroll:150,glowColor:"#87ceeb"},e}(l.ScrollbarPlugin),_=p}}]);
//# sourceMappingURL=373-19def6a3b230bcfa7370.js.map